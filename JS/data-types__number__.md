# NUMBER

### NUMBER >> About >> Main
- Примитивный тип данных, работающий с числами в диапазоне от (2^53 - 1) до -(2^53 - 1).
- Другое название - «числа с плавающей точкой двойной точности».
- Операции с числами - безопасны. Код никогда не выдаст ошибку - в худшем случае будет NaN.
- Хранятся в 64-битном формате IEEE-754:
  - 52 бита - на цифры
  - 11 бит - на положение десятичной точки
  - 1 бит - на знак
- Имеет свой объект-обертку.

### NUMBER >> About >> Types
- Целочисленные значения.
- Числа с плавающей точкой.
- NaN.
- infinity.
- -infinity.

### NUMBER >> About >> Infinity
- Это математическая бесконечность.
- Получается в результате:
  - деления на ноль.
  - переполнения 64-битного хранилища.
  - явного присвоения.

### NUMBER >> About >> NaN
- Означает вычислительную ошибку.
- Получается в результате:
  - неправильной или неопределенной вычислительной операции.
  - присутствия в выражении NaN (если оно есть - в результате всегда будет NaN).

### NUMBER >> Rules >> Imprecise calculations
- В языках, использующих формат чисел IEEE-754, есть проблема потери точности.
- Алгоритм потери точности:
  1. Числа хранятся в памяти в бинарной форме.
  1. При дроблении на 10 в бинарной форме получаем бесконечную дробь. (Аналогично бесконечной дроби при делении на 3 в десятичной форме (1 / 3 = 0.33333(3)))
  1. IEEE-754 округляет такие числа до ближайшего возможного числа, однако неточность сохраняется и проявляется в математических операциях.
- Пути решения потери точности
  - Использовать метод `toFixed()`.
  - Умножить число на >100, совершить математическое действие, и обратно разделить.  
  При этом погрешность остается, но сокращается.

### NUMBER >> Rules >> NaN/Infinity check
- Проверка на `NaN`:

  ```
  isNaN(value)
  ```
  - преобразует значение в число и проверяет является ли оно `NaN`.
- Строгая проверка на `NaN`:

  ```
  Number.isNaN(value)
  ```
  - аналогичен `isNaN`, но не делает изначального преобразования в число. Т.е. проверяет сразу в т.ч. и то, принадлежит ли значение типу `number`.
- Проверка на `infinity` и `NaN`:

  ```
  isFinite(value) 
  ```
  - преобразует аргумент в число и возвращает `true`, если оно является обычным числом (не `NaN/Infinity/-Infinity`).
- Строгая проверка на `infinity` и `NaN`:

  ```
  Number.isFinite(value)
  ```
    - аналогичен `isFinite`, но не делает изначального преобразования в число. Т.е. проверяет сразу в т.ч. и то, принадлежит ли значение типу `number`.

### NUMBER >> Features >> Short syntax
- Уменьшение нолей:

  	```
    100000 >>> 1e5
    ```  
  - Под капотом: умножает число на единицу с e-нолей.
- Уменьшение нолей с отрицательными числами:

  ```
  0.00001 >>> 1e-5
  ```  
  - Под капотом: делит число на единицу с e-нолей.

### NUMBER >> Features >> Nums with sufix
- Значения могут быть числами с буквенными окончаниями. Пример: 100$, 5px.  
Стандартные способы рассматривают такие значения как `NaN`.  
Однако есть способы "вычленить" числовую составляющую из таких значений.
- Возврат целого числа:

  ```
  parseInt(`100px`)
  ```
  - метод "читает" строку, и столкнувшись с ошибкой (нечисловым символом, в т.ч. точкой), возвращает "прочитанное" число.
- Возврат числа с плавающей точкой:

  ```
  parseFloat(`10.5$`)
  ```
  - метод работает аналогично `parseInt`, однако читает в т.ч. точку, и таким образом возвращает число с плавающей точкой.