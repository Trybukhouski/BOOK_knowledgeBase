# ARCHITECTURE

## Architecture >> App
1. При взаимодействии пользователя с компонентом создается объект `action`, с помощью которого компонент общается со `state`. При этом сам `state` - это единый объект, хранящий ВСЕ состояние приложения. Т.е. состояние компонента моментально и напрямую не изменяется (=> не изменяется шаблон).  
1. При появлении нового `action`, `reducer`, согласно этому `action`, меняет единый объект `state` и отправляет (диспатчит) его в `store`.
1. Компонент получает уведомление, что что-то изменилось в `store` и перерисовывается.  
Компонент видит их благодаря функциям-подписчикам.

## Architecture >> Action
- Это простой js-объект.
- Он напрямую ни с чем не взаимодействует.
- Содержит поля:
  - `type`, на основании значения которого `reducer` меняет `state` тем или иным образом.
  - `payload` [ ... ]
- Способен быть асинхронным (при доп настройках)

## Architecture >> Store
Это объект, который имеет следующие интефрейсы:
  - `getState`  
  Это функция, которая просто возвращает `state`.
  - `dispatch`  
  Это функция, которая:
    - изменяет `state` через `reducer`;
    - сообщает всем подписчикам, что в `state` произошли изменения.
  - `subscribe`  
  Это функция, которая подписывает на изменения в `state` новую функцию.  
  Т.е. эта функция будет вызываться каждый раз, когда произойдут изменения в `state`.

## Architecture >> Reducer
- Это простая функция, которая меняет объект `stаte`.
- Возвращает объект, представляющий собой измененный state. Т.е. функция "перегоняет" через себя `state`, и на основе `action` изменяет и возвращает измененный `state`.  
- `state` не мутируется, поэтому при каждом изменении нужно переприсваивать изменения переменной `state`.
- `reducer` должен быть специализирован на выполнение конкретной логической операции.  
Преимущества:
  - приложение декомпозировано на логические составляющие
  - `reducer` легче управляется.
- -> Для координации работы приложения между разными редюсерами, они объединяются через встроенные redux-механизмы (статья Creation__Reducer).