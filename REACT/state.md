# STATE

## About
- ..Объект, содержащий данные, которые необходимо периодически обновлять..  
Приложение реагирует на изменение state и предоставляет обновленный UI.

## HIT
- Данные state: 
  - те, о которых должно знать приложение.
  - те, которые могут со временем меняться.
  - создаются в компоненте.
  - полностью контролируются компонентом
- React предоставляет методы для редактирования полей state.
- Состояние компонента инкапсулировано: другие компоненты не знают о нем.
- State можно передавать:
  - вниз по дереву компонентов (top-down / unidirectional поток данных) в виде пропсов дочерних компонентов.  
  _ISW_ В атрибут компонента передается ссылка на родительский state, который попадает в компонент в виде propsa.

## Syntax >> Creation

- Объект state определяется только через конструктор класса.

  ```
  constructor {
    this.state = {
      propName: propValue;
    }
  }
  ```
- state содержит начальные состояния компонента.

## Syntax >> Update state
- Через `setState()`:
  ```
  setState({
    propName: newPropValue
  })
  ```
- Правила обновления:
  - Запрещено изменять state напрямую (this.state.newPropName = "new Value").  
  Разрешено только через специальные, описанные выше методы.
  - Не полагаться на текущее состояние state при его изменении на следующее (т.к. `setState` асинхронен).  
  Необходимо использовать `setState()` с аргументом  в виде функции, в которую аргументом передается текущее состояние.
  - Текущее и обновленное состояния объединяются.  
  Таким образом, можно обновлять разные поля state отдельными вызовами `setState()`.

## Syntax >> Using state
  ```
  {this.state.propName}
  ```
  - Данный код вставляется в изменяемое место JSX.
  - Также можно присвоить свойство state переменной и использовать в JSX переменную вместо вышеописанной конструкции.

