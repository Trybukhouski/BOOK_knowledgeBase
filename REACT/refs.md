# REFS

## About
- Рефы - это методы, возвращающие ссылку на компонент/элемент, созданному в методе render, и привязанному к этому методу через атрибут `ref`.   
Данный метод является react-аналогом `getElementById`.  
Т.е. это способ получения прямого доступа (ссылки) к конкретному компоненту/элементу.

## Types
- коллбек-рефы
- Созданные через `React.createRef()` 

## Characteristics
- Рефы могут передаваться между компонентами

## Creation >> React.createRef()
1. Создание ref-объекта:

    ```
    myRef = React.createRef()
    ```
    - Обычно создается в конструкторе (не забывать про `this.myRef`)
1. Привязка рефа к react-компоненту (DOM-элементу) в методе render через атрибут ref.

    ```
    <Component ref={this.myRef}/>
    ```
1. Использование ссылки на элемент/компонент:

    ```
    this.myRef
    ```
    - Дает доступ к объекту ref, содержащего свойство `current` с ссылкой на элемент/компонент.
    - Нюансы значения `current`:   
      - __Если используется с html-элементом:__  
      Соответствующий DOM-элемент.
      - __Если используется с react-компонентом:__
        - __с классовым:__  
        Экземпляр смонтированного компонента.
        - __c функциональным:__  
        Нельзя (т.к. для него не создается экземпляра)
- Пример >> (_ref-adding - RefSecond_)

## Creation >> callback
1. Создание функции, которая принимает в качестве аргумента элемент/компонент и присваивает его переменной:

    ```
    this.refFunc = element => {
      this.el = element;
    };
    ```
1. Привязка функции к компоненту/элементу в методе render через атрибут ref.

    ```
    <Component ref={this.refFunc}/>
    ```
1. Использование ссылки на компонент/элемент

    ```
    this.el;
    ```
    - Обеспечивает доступ непосредственно к DOM-узлу.
- Пример >> (_ref-adding - RefFirst_)  

## Features
- Позволяет модифицировать дочерний элемент, не прибегая к пропсам.  
В стандартном режиме модификация дочерних элементов подразумевает его изменение через пропсы с последующим ререндерингом.

## In practice
- Управление фокусом, выделение текста, воспроизведение медиа. >>>
- Императивный вызов анимаций.
- Интеграция со сторонними DOM-библиотеками.

## In practice >> bad practice
- Использование рефов в ситуациях, когда задачу можно решить декларативным способом.

## ToDo
- Сделать пример реализации рефа с фокусом на элементе (есть в спецификации)
- Изучить раздел про перенаправление рефов